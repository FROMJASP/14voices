/* Import nav icons styles */
@import './styles/nav-icons.css';

/* Hide the locale selector in the admin panel */
.localizer {
  display: none !important;
}

/* Alternative selector if the above doesn't work */
[class*='localizer'] {
  display: none !important;
}

/* Hide locale dropdown button */
button[aria-label*='Locale'],
button[aria-label*='Language'] {
  display: none !important;
}

/* Fix checkbox alignment in table rows */
.collection-list__cell-checkbox {
  display: flex !important;
  align-items: center !important;
  min-height: 56px !important;
}

/* Ensure table cells have consistent height */
.collection-list__cell {
  min-height: 56px !important;
  display: flex !important;
  align-items: center !important;
}

/* Fix checkbox input alignment */
.collection-list__cell input[type='checkbox'] {
  margin: 0 !important;
}

/* Make entire row clickable for voiceovers collection */
.collection-list__list-item[data-collection='voiceovers'] {
  cursor: pointer !important;
}

.collection-list__list-item[data-collection='voiceovers']:hover {
  background-color: rgba(59, 130, 246, 0.05) !important;
}

/* Dark mode support for row hover */
@media (prefers-color-scheme: dark) {
  .collection-list__list-item[data-collection='voiceovers']:hover {
    background-color: rgba(59, 130, 246, 0.1) !important;
  }
}

/* Admin cell hover effects */
.admin-cell-name {
  text-decoration: underline;
  text-decoration-color: transparent;
  transition: text-decoration-color 0.2s;
}

.admin-cell-name:hover {
  text-decoration-color: #3b82f6;
}

/* Animations for ShimmerButton */
@keyframes shimmer-slide {
  to {
    transform: translate(calc(100cqw - 100%), 0);
  }
}

@keyframes spin-around {
  0% {
    transform: translateZ(0) rotate(0);
  }
  15%,
  35% {
    transform: translateZ(0) rotate(90deg);
  }
  65%,
  85% {
    transform: translateZ(0) rotate(270deg);
  }
  100% {
    transform: translateZ(0) rotate(360deg);
  }
}

/* Support for container queries */
@supports (container-type: size) {
  .animate-shimmer-slide {
    animation: shimmer-slide var(--speed) ease-in-out infinite;
  }

  .animate-spin-around {
    animation: spin-around var(--speed) linear infinite;
  }
}

/* Collapse page layout blocks by default */
/* NOTE: Since we're using initCollapsed: true in the field config,
   we don't need aggressive CSS. The blocks will start collapsed
   and Payload's JavaScript will handle the expand/collapse functionality */

/* Just ensure transitions are smooth */
[data-field-name='layout'] .collapsible__content {
  transition: height 0.2s ease-in-out;
}

/* Fix sidebar scrolling issue */
.nav__wrap {
  max-height: 100vh !important;
  height: auto !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  flex-grow: 0 !important;
  flex-shrink: 0 !important;
}

/* Payload 3 specific nav fix - remove flex spacer */
.nav {
  position: relative !important;
  height: auto !important;
  min-height: auto !important;
}

/* Adjust first nav group to have appropriate spacing */
.nav__scroll {
  padding-top: 4rem !important;
  margin-top: 0 !important;
  height: auto !important;
  min-height: auto !important;
}

.nav__scroll > :first-child {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* Hide the flex spacer that Payload inserts */
.nav > :nth-child(2)[style*='flex-grow'] {
  display: none !important;
}

/* Alternative selector for the spacer */
.nav > div[style*='flex: 1 1 0%'] {
  display: none !important;
}

/* Fix logo container positioning to not affect layout */
#nav-logo-container {
  position: absolute !important;
  z-index: 100 !important;
  top: 0 !important;
  right: 0 !important;
  height: 60px !important;
}

/* Ensure nav starts at the top */
.nav > :first-child:not(#nav-logo-container) {
  margin-top: 0 !important;
  padding-top: 1rem !important;
}

/* Additional sidebar container fixes */
.template__wrap {
  display: flex !important;
  flex-direction: row !important;
}

/* Ensure sidebar doesn't expand to match main content height */
.template__nav,
.nav__wrap,
aside[class*='nav'] {
  height: auto !important;
  max-height: 100vh !important;
  flex: 0 0 auto !important;
}

/* Ensure main content area can grow independently */
.template__content {
  flex: 1 1 auto !important;
  min-height: 100vh !important;
}

/* Fix for Payload 3.x specific layout classes */
.app__wrap,
[class*='app__wrap'],
[class*='template__wrap'] {
  display: flex !important;
  flex-direction: row !important;
  align-items: flex-start !important;
}

/* Prevent sidebar from stretching */
.app__nav,
[class*='app__nav'],
[class*='template__nav'] {
  height: auto !important;
  max-height: 100vh !important;
  flex: 0 0 auto !important;
  align-self: flex-start !important;
}
